
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MGRS Converter</title>
  <link rel="stylesheet" href="../../css/styles.css" />
  <link rel="icon" href="../../assets/icons/compass.svg" type="image/svg+xml" />
</head>
<body>
  <header class="app-bar" role="banner">
    <div class="app-bar__left">
      <button id="backToDashboard" class="icon-btn back-btn" aria-label="Back to dashboard" title="Back to dashboard" data-ripple>
        <span class="icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
        </span>
      </button>
      <img src="../../assets/icons/compass.svg" class="app-logo" alt="Compass icon" />
      <h1 class="app-title">MGRS Converter</h1>
    </div>
    <div class="app-bar__right">
      <button id="themeToggle" class="icon-btn" aria-label="Toggle light/dark theme" title="Toggle theme" data-ripple>
        <span class="icon" id="themeIcon" aria-hidden="true"></span>
      </button>
    </div>
  </header>

  <aside class="warning" role="note" aria-live="polite">
    <strong>⚠️ Note:</strong> Works offline with WGS84. MGRS precision depends on input digits; conversions follow standard UTM/MGRS conventions.
  </aside>

  <main class="tool-content" role="main">
    <section class="panel" aria-labelledby="intro-title">
      <h2 id="intro-title">Interactive, verbose, yet simple</h2>
      <p>Convert between <strong>Latitude/Longitude</strong> (WGS84) and <strong>MGRS</strong>. Type in either area below—the other side updates live. The tool explains every step: zone, band, 100k grid square, and easting/northing.</p>
    </section>

    <section class="panel" aria-labelledby="latlon-title">
      <h2 id="latlon-title">Latitude / Longitude → MGRS</h2>
      <div class="layout-2col">
        <div class="field"><label for="lat">Latitude (°)</label><input id="lat" class="input" type="number" step="0.000001" min="-80" max="84" placeholder="e.g., -35.3075" /></div>
        <div class="field"><label for="lon">Longitude (°)</label><input id="lon" class="input" type="number" step="0.000001" min="-180" max="180" placeholder="e.g., 149.1244" /></div>
        <div class="field"><label for="precision">Precision (digits per easting/northing)</label><input id="precision" type="range" min="1" max="5" value="5" /><div class="meta">Precision: <span id="precisionLabel">5 (1m)</span></div></div>
        <div class="field" style="grid-column:1/-1"><label for="mgrsOut">MGRS</label><input id="mgrsOut" class="input" type="text" readonly /></div>
      </div>
      <details style="margin-top:8px">
        <summary>Explain this conversion</summary>
        <pre id="explainLL2M" class="meta" style="white-space:pre-wrap"></pre>
      </details>
    </section>

    <section class="panel" aria-labelledby="mgrs-title">
      <h2 id="mgrs-title">MGRS → Latitude / Longitude</h2>
      <div class="layout-2col">
        <div class="field" style="grid-column:1/-1"><label for="mgrsIn">MGRS input</label><input id="mgrsIn" class="input" type="text" placeholder="e.g., 55H FA 12345 67890 or 55HFA1234567890" /></div>
        <div class="field"><label>Latitude (deg)</label><input id="latOut" class="input" type="text" readonly /></div>
        <div class="field"><label>Longitude (deg)</label><input id="lonOut" class="input" type="text" readonly /></div>
      </div>
      <details style="margin-top:8px">
        <summary>Explain this conversion</summary>
        <pre id="explainM2LL" class="meta" style="white-space:pre-wrap"></pre>
      </details>
    </section>

    <section class="panel" aria-labelledby="notes-title">
      <h2 id="notes-title">Notes & Tips</h2>
      <ul>
        <li>MGRS latitude bands range from <code>C</code> (80°S) to <code>X</code> (84°N), excluding <code>I</code> and <code>O</code>.</li>
        <li>Precision: 1–5 digits per easting/northing (10 km, 1 km, 100 m, 10 m, 1 m).</li>
        <li>Southern hemisphere UTM northings include a 10,000,000 m false northing.</li>
        <li>Outputs use WGS84 ellipsoid (a=6378137 m; f=1/298.257223563).</li>
      </ul>
    </section>
  </main>

  <script src="../../js/app.js"></script>
  <script src="./mgrs.js"></script>
</body>
</html>
